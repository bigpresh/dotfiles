# bigpresh's tool stack

This directory contains files to track the tools I use on my workstations,
dev boxes etc.  These are the tools I use on a day to day basis.

This file contains a rundown on them, including notes on why I like them, 
links, etc.  I hope it may be useful to someone.

Table of contents generated by [nGitHubTOC](https://imthenachoman.github.io/nGitHubTOC/)
since GitHub still doesn't do automated TOCs:

- [bigpresh's tool stack](#bigpreshs-tool-stack)
  - [apt packages](#apt-packages)
    - [terminator](#terminator)
    - [firefox](#firefox)
    - [vim](#vim)
    - [build-essential](#build-essential)
    - [strace](#strace)
    - [CopyQ](#copyq)
    - [xclip](#xclip)
    - [apcalc](#apcalc)
    - [zim](#zim)
    - [bat - a replacement for cat with colouring, line numbering etc.](#bat---a-replacement-for-cat-with-colouring-line-numbering-etc)
    - [rr - lightweight recording & replay debugger](#rr---lightweight-recording--replay-debugger)
    - [multitail](#multitail)
    - [mc - Midnight Commander](#mc---midnight-commander)
    - [Krusader - twin pane file manager](#krusader---twin-pane-file-manager)
    - [earlyoom - saner OOM handling](#earlyoom---saner-oom-handling)
    - [iotop](#iotop)
    - [iftop](#iftop)
    - [Nagstamon](#nagstamon)
    - [moreutils](#moreutils)
    - [dateutils](#dateutils)
    - [pssh](#pssh)
    - [ack](#ack)
    - [ripgrep](#ripgrep)
    - [reptyr](#reptyr)
    - [shutter](#shutter)
    - [pv](#pv)
    - [q Text as Data](#q)
  - [Firefox addons](#firefox-addons)
    - [Textern (edit textareas in editor)](#textern-edit-textareas-in-editor)
    - [DarkReader](#darkreader)
    - [Adblock Plus](#adblock-plus)
    - [NoScript](#noscript)
    - [Multi-Account Containers](#multi-account-containers)
    - [Textarea Cache](#textarea-cache)
    - [JSONView](#jsonview)
    - [Stylus](#stylus)
    - [Tree Style Tab](#tree-style-tab)
    - [Sanitize Target Attribute](#sanitize-target-attribute)
    - [Cookie Quick Manager](#cookie-quick-manager)
  - [Stuff that's not in Ubuntu core repos](#stuff-thats-not-in-ubuntu-core-repos)
    - [ZeroTier](#zerotier)
    - [VS Code](#vs-code)
    - [Android Studio](#android-studio)
    - [broot](#broot)



## apt packages

### terminator

My terminal editor of choice, where I spend the majority of my computing time.

Powerful, flexible, multiple tabs of multiple panes of terminals, grouping,
broadcasting etc.

I don't know where I'd be without good old Terminator.

Note: Terminator based on Gnome Terminal, not the Java-based terminal emulator
also called Terminator.

[Terminator docs](https://terminator-gtk3.readthedocs.io/en/latest/)

Ensure more up to date version by adding custom repo:

`sudo add-apt-repository ppa:gnome-terminator`

### firefox

My favourite browser.  I have Chrome installed as well, but I've always got
on better with Firefox.  With [my preferred Firefox add-ons](#firefox-addons)
to make it work the way I want, it's a good browsing experience.  I use
Firefox Sync, too, to sync bookmarks etc between machines.

### vim

My editor of choice.  See my .vimrc etc in this repo for how I configure it.

### build-essential

So I can compile stuff.

### strace

Excellent debugging tool to trace the syscalls a process makes and figure out
what is going on.

### CopyQ

Featureful clipboard manager, very powerful, with easy searching, good keyboard
shortcuts, "folders", snippets, etc.

### xclip

To quickly stick stuff on the clipboard to share - just pipe to xclip and it's
on your clipboard ready to paste into Slack / a pastebin / GitHub gists
or whatever.

### apcalc

command-line `calc` tool.  No annoying interface, just type your expressions
and get your results.

### zim

Desktop wiki software - I find this excellent for taking & organising notes,
and the storage is just a folder full of text files with basic wiki formatting
so not locked in to a proprietary format.

### bat - a replacement for cat with colouring, line numbering etc.

### rr - lightweight recording & replay debugger

Lets you run an application once until it crashes, then debug against the
recording deterministically, including reverse tracing etc.

https://rr-project.org/

### multitail

Tail multiple log files (or program outputs!), either in individual windows 
in the same terminal, or merging them into one (or more) windows, with colour
based on regex rulesets etc.

Very handy to e.g. monitor a web server with all access logs merged in one
window using the apache colour rules, and all error logs merged in a second
window using the apache_error color rules, for e.g.:

```
multitail -CS apache --mergeall *access* --no-mergeall -i ~/errors \
    -CS apache_error --mergeall *error*
```

### mc - Midnight Commander

Powerful, text-based console file manager.  I've used this for years.

### Krusader - twin pane file manager

A powerful twin-pane GUI file manager - like a graphical version of mc.

### earlyoom - saner OOM handling

Linux has a bit of a tendency to allow swap thrashing to bring a system to its
knees.  `earlyoom` watches the available memory, and will step in and kill
an excessively large process before the system gets to the point of being
virtually unresponsive, and allows you to easily tell it what to prefer to
kill and/or what *not* to kill.  Some of this can be achieved by tuning kernel
swap-related parameters, but earlyoom just makes it easy.

### iotop

Like `top` for disk I/O - see what processes are reading/writing lots of data.

### iftop

Like `top` for network usage - watch network connections and see where
traffic is going and how fast.

### Nagstamon

Useful Nagios monitor which sits in the notification area and pops up alerts
if the Nagios install it's monitoring has found any problems.

### moreutils

Collection of Perl utilities, including `parallel`, working much like GNU
Parallel but with no nagging about citations, which I've made heavy use of.

See [moreutils homepage](https://joeyh.name/code/moreutils/)

### dateutils

Useful collection of date-related utilities, for dealing with dates in various
ways - calculating dates, searching for dates etc (e.g. `dategrep` which lets
you search for files containing a date later or earlier than a given date, etc).

See [dateutils homepage](http://www.fresse.org/dateutils/#dategrep)

### pssh

Parallel SSH / SFTP / SCP / rsync to various boxes.

The apt package installs them as more helpful names, e.g. parallel-ssh.

See [pssh homepage](http://code.google.com/p/parallel-ssh/)

### ack

Excellent code searching tool with sensible defaults to do what you mean,
fast, and avoids lots of unhelpful matches (e.g. wading through `.git` etc).

Written in Perl, with the power of true Perl regexes out of the box.

[ack homepage](https://beyondgrep.com/)

Install apt package `ack-grep`


### ripgrep

Another code search tool, like ack but claims to be faster - in particular
because it can use threads to parallelise searches, useful on multi-core boxes.

I still tend to reach for `ack` by muscle-memory, but I'm trying out ripgrep
too and it's doing well so far.

Used to be in Ubuntu repos as `ripgrep` but it looks like it's now been dropped
in favour of a Snap package, so grab the .deb from the
[releases page](https://github.com/BurntSushi/ripgrep/releases) instead.

[ripgrep on GitHub](https://github.com/BurntSushi/ripgrep)

Andy Lester (ack's author) produced a fantasic
[feature comparison of ack,ripgrep andothers](https://beyondgrep.com/feature-comparison/)


### reptyr

Allows you to re-parent a running process to a new terminal.  For instance,
if you have a long-running process you're running over SSH and forgot to
start it under screen so you can detach and leave it running, you could just
use `reptyr $pid` from a screen session to move it there.

### Shutter

Powerful screenshot manager.

Available via a PPA:

```
sudo add-apt-repository ppa:linuxuprising/shutter
sudo apt install shutter
```

### pv (pipeline viewer)

Monitors the progress of data through a pipeline, useful to see how quick a
Unix pipeline processing a lot of data is going.

Man page: https://man7.org/linux/man-pages/man1/pv.1.html

Can be used in place of cat, for e.g.:

```
pv filename | ./process_file
```

or in multiple named places in a pipeline working together, e.g.:

```
[davidp@supernova:~]$ pv -cN in /etc/passwd | /shared/tmp/slow_process | pv -cN out > /dev/null
       in: 3.86KiB 0:00:00 [ 144MiB/s] [=========================================>] 100%            
      out: 1.38KiB 0:00:26 [79.0 B/s] [                             <=> 
```

### q

[q - Text as Data](http://harelba.github.io/q/) is super handy to process 
SQL/TSV files, running SQL queries on them directly, without importing them 
into an actual DBMS or using Apache Drill, etc.

e.g. 

```
q -d, -H "select tel_num from contacts.csv where group = 'businesses'"
```

If you're usually processing CSV files, you'll probably want to set up a `.qrc`
config file that makes that the default - I also needed to set
`encoding=unicode-escape` to avoid issues with some files, e.g.:

```
Could not parse the input. Please make sure to set the proper -w input-wrapping parameter for your input, and that you use the proper input encoding (-e). Error: 'utf-8' codec can't decode byte 0x96 in position 3907: invalid start byte
```

That went away when I used:

```
[options]
delimiter=,
# avoid UTF8 encoding issues - e.g. "Could not parse the input..."
encoding=unicode-escape
```

However, for the config file to work properly I needed to grab a .deb release
file from the [releases page on GitHub](https://github.com/harelba/q/releases)
because older versions didn't support it properly - see my bug report
[harelba/q#298](https://github.com/harelba/q/issues/298) where the solution
was indeed to use a newer version.  At the time of writing, I had 1.8 as the
Debian-packaged version, but 3.1.6 was the current.

## Firefox addons

### Textern (edit textareas in editor)

Allows you to edit the text in a `<textarea>` field using a real editor.

https://github.com/jlebon/textern

### DarkReader

Turns most sites to "Dark Mode" to be much easier on the eyes.

https://github.com/darkreader/darkreader

### Adblock Plus

Hide irritating adverts

### NoScript

Allow Javascript only from whitelisted domains.  Nice to control what runs,
removes some tracking, nobbles some adverts if they weren't already caught
by ABP, but can be a little bit of a pain at times particularly on sites that
rely on JS from a mountain of shady third parties in order to function.  Half
the time, though, if they require that, I don't really want to use them
anyway!

### Multi-Account Containers

Allows each tab to be assigned a different "context".  At work I'm required to
use a different GitHub account, so I can have a personal context which is
logged in to my personal GitHub account, and a work context which is logged 
in to my work GitHub account, rather than having to keep logging out & logging
in all the time.

Separate contexts are nice.

https://github.com/mozilla/multi-account-containers#readme

### Textarea Cache

Caches the contents of textarea fields, so that if a submission fails, for
e.g., then the text you'd written out isn't lost.  This has saved me so much
annoyance and wasted time over the years.

https://addons.mozilla.org/firefox/addon/textarea-cache/

### JSONView

Make viewing JSON documents much more pleasant

### Stylus

Allow loading custom stylesheets to customise how sites look - there's loads
of pre-made ones at [userstyles.org](https://userstyles.org/) for most popular
sites.  I used this more for finding dark mode equivalents before I found
the DarkReader plugin, which reduces my use of Stylus these days, but it's 
still handy.

https://add0n.com/stylus.html

### Tree Style Tab

I have a habit of having lots of Firefox tabs open at a time.  This extension
makes that more manageable, with a sidebar of hierachical tabs.

http://piro.sakura.ne.jp/xul/_treestyletab.html.en

### Sanitize Target Attribute

Stops links using the `target` attribute to open in a new window/tab.
*I* will decide if I want it in a new tab.

### Cookie Quick Manager

Allows searching/viewing/editing/exporting cookies - useful tool when debugging
issues, or to export cookies for a logged in site to feed to a command-line
tool for it to use an existing session, etc.

Compared to some other similar cookie manager addons out there, this one seems
particularly powerful and useful, and is also reviewed & recommended by Mozilla
which matters for an extension which is going to have full access to all your
cookies!

## Stuff that's not in Ubuntu core repos

### ZeroTier

Convenient "software-defined network" - easy VPN-esque connections with
minimal effort.

I help maintain machines for friends/family; to get remote access to them,
I can just have them on a ZeroTier network and get to them over that.

Download the install script from https://install.zerotier.com/ or if feeling
brave, `curl https://install.zerotier.com | sudo bash`

https://zerotier.com/

### VS Code

I used to be a bit of a vim purist, and I still use vim for a lot of editing.

However, I started playing with Virtual Studio Code after seeing my boss using
it, and I have to admit I actually like it.  It's pretty powerful, and I
find it comes into its own when trying to make sense of a large and complex
codebase - whipping around between files gets easier, and the GitLens plugin
showing git blame info in an unobtrusive way right in the editor is pretty
slick when you're wondering why things were done the way they were etc.

https://code.visualstudio.com/download

### Android Studio

Massive, bloaty, but invaluable for Android development.  At work we have
a set of mobile apps.  Android Studio includes a powerful Android device
emulator, and the Android Device Manager to make setting them up easy.

So, I can run our apps on emulated Android devices right on my desktop, and
interrogate them with Chrome's dev tools via `inspect://` to see what's
going on.

https://developer.android.com/studio

### broot

Quick file browsing tool, show & search trees of files sensibly.

Powerful & flexible

https://dystroy.org/broot/

Available from 3rd-party .deb repo:

```
echo "deb http://packages.azlux.fr/debian/ buster main" | sudo tee /etc/apt/sources.list.d/azlux.list
wget -qO - https://azlux.fr/repo.gpg.key | sudo apt-key add -
sudo apt-get update
sudo apt install broot
```

